<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE refentry PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
	"http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
<!ENTITY VERSION "1.0">
<!ENTITY COMMANDNAME "password-request">
<!ENTITY TIMESTAMP "2008-08-31">
]>

<refentry xmlns:xi="http://www.w3.org/2001/XInclude">
  <refentryinfo>
    <title>Mandos Manual</title>
    <!-- Nwalsh’s docbook scripts use this to generate the footer: -->
    <productname>Mandos</productname>
    <productnumber>&VERSION;</productnumber>
    <date>&TIMESTAMP;</date>
    <authorgroup>
      <author>
	<firstname>Björn</firstname>
	<surname>Påhlsson</surname>
	<address>
	  <email>belorn@fukt.bsnet.se</email>
	</address>
      </author>
      <author>
	<firstname>Teddy</firstname>
	<surname>Hogeborn</surname>
	<address>
	  <email>teddy@fukt.bsnet.se</email>
	</address>
      </author>
    </authorgroup>
    <copyright>
      <year>2008</year>
      <holder>Teddy Hogeborn</holder>
      <holder>Björn Påhlsson</holder>
    </copyright>
    <xi:include href="../legalnotice.xml"/>
  </refentryinfo>

  <refmeta>
    <refentrytitle>&COMMANDNAME;</refentrytitle>
    <manvolnum>8mandos</manvolnum>
  </refmeta>
  
  <refnamediv>
    <refname><command>&COMMANDNAME;</command></refname>
    <refpurpose>
      Client for mandos
    </refpurpose>
  </refnamediv>

  <refsynopsisdiv>
    <cmdsynopsis>
      <command>&COMMANDNAME;</command>
      <group>
	<arg choice="plain"><option>--connect
	<replaceable>IPADDR</replaceable><literal>:</literal
	><replaceable>PORT</replaceable></option></arg>
	<arg choice="plain"><option>-c
	<replaceable>IPADDR</replaceable><literal>:</literal
	><replaceable>PORT</replaceable></option></arg>
      </group>
      <sbr/>
      <group>
	<arg choice="plain"><option>--keydir
	<replaceable>DIRECTORY</replaceable></option></arg>
	<arg choice="plain"><option>-d
	<replaceable>DIRECTORY</replaceable></option></arg>
      </group>
      <sbr/>
      <group>
	<arg choice="plain"><option>--interface
	<replaceable>NAME</replaceable></option></arg>
	<arg choice="plain"><option>-i
	<replaceable>NAME</replaceable></option></arg>
      </group>
      <sbr/>
      <group>
	<arg choice="plain"><option>--pubkey
	<replaceable>FILE</replaceable></option></arg>
	<arg choice="plain"><option>-p
	<replaceable>FILE</replaceable></option></arg>
      </group>
      <sbr/>
      <group>
	<arg choice="plain"><option>--seckey
	<replaceable>FILE</replaceable></option></arg>
	<arg choice="plain"><option>-s
	<replaceable>FILE</replaceable></option></arg>
      </group>
      <sbr/>
      <arg>
	<option>--priority <replaceable>STRING</replaceable></option>
      </arg>
      <sbr/>
      <arg>
	<option>--dh-bits <replaceable>BITS</replaceable></option>
      </arg>
      <sbr/>
      <arg>
	<option>--debug</option>
      </arg>
    </cmdsynopsis>
    <cmdsynopsis>
      <command>&COMMANDNAME;</command>
      <group choice="req">
	<arg choice="plain"><option>--help</option></arg>
	<arg choice="plain"><option>-?</option></arg>
      </group>
    </cmdsynopsis>
    <cmdsynopsis>
      <command>&COMMANDNAME;</command>
      <arg choice="plain"><option>--usage</option></arg>
    </cmdsynopsis>
    <cmdsynopsis>
      <command>&COMMANDNAME;</command>
      <group choice="req">
	<arg choice="plain"><option>--version</option></arg>
	<arg choice="plain"><option>-V</option></arg>
      </group>
    </cmdsynopsis>
  </refsynopsisdiv>

  <refsect1 id="description">
    <title>DESCRIPTION</title>
    <para>
      <command>&COMMANDNAME;</command> is a mandos plugin that works
      like a client program that through avahi detects mandos servers,
      sets up a gnutls connect and request a encrypted password. Any
      passwords given is automaticly decrypted and passed to
      cryptsetup.
    </para>
  </refsect1>
  
  <refsect1 id="options">
    <title>OPTIONS</title>
    <para>
      Commonly not invoked as command lines but from configuration
      file of plugin runner.
    </para>

    <variablelist>
      <varlistentry>
	<term><option>--connect=<replaceable
	>IPADDR</replaceable><literal>:</literal><replaceable
	>PORT</replaceable></option></term>
	<term><option>-c
	<replaceable>IPADDR</replaceable><literal>:</literal
	><replaceable>PORT</replaceable></option></term>
	<listitem>
	  <para>
	    Connect directly to a specified mandos server
	  </para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term><option>--keydir=<replaceable
	>DIRECTORY</replaceable></option></term>
	<term><option>-d
	<replaceable>DIRECTORY</replaceable></option></term>
	<listitem>
	  <para>
	    Directory where the openpgp keyring is
	  </para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term><option>--interface=
	<replaceable>NAME</replaceable></option></term>
	<term><option>-i
	<replaceable>NAME</replaceable></option></term>
	<listitem>
	  <para>
	    Interface that Avahi will connect through
	  </para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term><option>--pubkey=<replaceable
	>FILE</replaceable></option></term>
	<term><option>-p
	<replaceable>FILE</replaceable></option></term>
	<listitem>
	  <para>
	    Public openpgp key for gnutls authentication
	  </para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term><option>--seckey=<replaceable
	>FILE</replaceable></option></term>
	<term><option>-s
	<replaceable>FILE</replaceable></option></term>
	<listitem>
	  <para>
	    Secret OpenPGP key for GnuTLS authentication
	  </para>
	</listitem>
      </varlistentry>
      
      <varlistentry>
	<term><option>--priority=<replaceable
	>STRING</replaceable></option></term>
	<listitem>
	  <para>
	    GnuTLS priority
	  </para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term><option>--dh-bits=<replaceable
	>BITS</replaceable></option></term>
	<listitem>
	  <para>
	    DH bits to use in gnutls communication
	  </para>
	</listitem>
      </varlistentry>
      
      <varlistentry>
	<term><option>--debug</option></term>
	<listitem>
	  <para>
	    Debug mode
	  </para>
	</listitem>
      </varlistentry>
      
      <varlistentry>
	<term><option>--help</option></term>
	<term><option>-?</option></term>
	<listitem>
	  <para>
	    Gives a help message
	  </para>
	</listitem>
      </varlistentry>
      
      <varlistentry>
	<term><option>--usage</option></term>
	<listitem>
	  <para>
	    Gives a short usage message
	  </para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term><option>--version</option></term>
	<term><option>-V</option></term>
	<listitem>
	  <para>
	    Prints the program version
	  </para>
	</listitem>
      </varlistentry>
    </variablelist>
  </refsect1>

  <refsect1 id="exit_status">
    <title>EXIT STATUS</title>
    <para>
    </para>
  </refsect1>

  <refsect1 id="environment">
    <title>ENVIRONMENT</title>
    <para>
    </para>
  </refsect1>

  <refsect1 id="file">
    <title>FILES</title>
    <para>
    </para>
  </refsect1>
  
  <refsect1 id="bugs">
    <title>BUGS</title>
    <para>
    </para>
  </refsect1>

  <refsect1 id="example">
    <title>EXAMPLE</title>
    <para>
    </para>
  </refsect1>

  <refsect1 id="security">
    <title>SECURITY</title>
    <para>
    </para>
  </refsect1>

  <refsect1 id="see_also">
    <title>SEE ALSO</title>
    <para>
      <citerefentry><refentrytitle>mandos</refentrytitle>
      <manvolnum>8</manvolnum></citerefentry>,
      <citerefentry><refentrytitle>password-prompt</refentrytitle>
      <manvolnum>8mandos</manvolnum></citerefentry>,
      <citerefentry><refentrytitle>plugin-runner</refentrytitle>
      <manvolnum>8mandos</manvolnum></citerefentry>
    </para>
    <itemizedlist>
      <listitem><para>
	<ulink url="http://www.zeroconf.org/">Zeroconf</ulink>
      </para></listitem>
      
      <listitem><para>
	<ulink url="http://www.avahi.org/">Avahi</ulink>
      </para></listitem>
      
      <listitem><para>
	<ulink
	    url="http://www.gnu.org/software/gnutls/">GnuTLS</ulink>
      </para></listitem>
      
      <listitem><para>
	<ulink
	url="http://www.gnupg.org/related_software/gpgme/">
	GPGME</ulink>
      </para></listitem>
      
      <listitem><para>
	<citation>RFC 4880: <citetitle>OpenPGP Message
	Format</citetitle></citation>
      </para></listitem>
      
      <listitem><para>
	<citation>RFC 5081: <citetitle>Using OpenPGP Keys for
	Transport Layer Security</citetitle></citation>
      </para></listitem>
      
      <listitem><para>
	<citation>RFC 4291: <citetitle>IP Version 6 Addressing
	Architecture</citetitle>, section 2.5.6, Link-Local IPv6
	Unicast Addresses</citation>
      </para></listitem>
    </itemizedlist>
  </refsect1>

</refentry>
<!-- Local Variables: -->
<!-- time-stamp-start: "<!ENTITY TIMESTAMP [\"']" -->
<!-- time-stamp-end: "[\"']>" -->
<!-- time-stamp-format: "%:y-%02m-%02d" -->
<!-- End: -->

<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE refentry PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
	"http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
<!ENTITY VERSION "1.0">
<!ENTITY CONFNAME "mandos.conf">
<!ENTITY CONFPATH "<filename>/etc/mandos/mandos.conf</filename>">
<!ENTITY OVERVIEW SYSTEM "overview.xml">
]>

<refentry xmlns:xi="http://www.w3.org/2001/XInclude">
  <refentryinfo>
    <title>&CONFNAME;</title>
    <!-- NWalsh’s docbook scripts use this to generate the footer: -->
    <productname>&CONFNAME;</productname>
    <productnumber>&VERSION;</productnumber>
    <authorgroup>
      <author>
	<firstname>Björn</firstname>
	<surname>Påhlsson</surname>
	<address>
	  <email>belorn@fukt.bsnet.se</email>
	</address>
      </author>
      <author>
	<firstname>Teddy</firstname>
	<surname>Hogeborn</surname>
	<address>
	  <email>teddy@fukt.bsnet.se</email>
	</address>
      </author>
    </authorgroup>
    <copyright>
      <year>2008</year>
      <holder>Teddy Hogeborn</holder>
      <holder>Björn Påhlsson</holder>
    </copyright>
    <legalnotice>
      <para>
	This manual page is free software: you can redistribute it
	and/or modify it under the terms of the GNU General Public
	License as published by the Free Software Foundation,
	either version 3 of the License, or (at your option) any
	later version.
      </para>

      <para>
	This manual page is distributed in the hope that it will
	be useful, but WITHOUT ANY WARRANTY; without even the
	implied warranty of MERCHANTABILITY or FITNESS FOR A
	PARTICULAR PURPOSE.  See the GNU General Public License
	for more details.
      </para>

      <para>
	You should have received a copy of the GNU General Public
	License along with this program; If not, see
	<ulink url="http://www.gnu.org/licenses/"/>.
      </para>
    </legalnotice>
  </refentryinfo>

  <refmeta>
    <refentrytitle>&CONFNAME;</refentrytitle>
    <manvolnum>5</manvolnum>
  </refmeta>
  
  <refnamediv>
    <refname><filename>&CONFNAME;</filename></refname>
    <refpurpose>
      Configuration file for the Mandos server
    </refpurpose>
  </refnamediv>

  <refsynopsisdiv>
    <synopsis>
      &CONFPATH;
    </synopsis>
  </refsynopsisdiv>

  <refsect1 id="description">
    <title>DESCRIPTION</title>
    <para>
      The file &CONFPATH; is a simple configuration file for
      <citerefentry><refentrytitle>mandos</refentrytitle>
      <manvolnum>8</manvolnum></citerefentry>, and is read by it at
      startup.  The configuration file starts with
      <quote><literal>[DEFAULT]</literal></quote> on a line by itself,
      followed by any number of
      <quote><varname><replaceable>option</replaceable></varname>=<replaceable>value</replaceable></quote>
      entries, with continuations in the style of RFC 822.
      <quote><varname><replaceable>option</replaceable></varname>:
      <replaceable>value</replaceable></quote> is also accepted.  Note
      that leading whitespace is removed from values.  Lines beginning
      with <quote>#</quote> or <quote>;</quote> are ignored and may be
      used to provide comments.
    </para>

  </refsect1>
  <refsect1>
    <title>OPTIONS</title>
    
    <variablelist>
      <varlistentry>
	<term><varname>interface</varname></term>
	<listitem>
	  <synopsis><literal>interface = </literal><arg
	  choice="plain"><replaceable>IF</replaceable></arg>
	  </synopsis>
	  <xi:include href="mandos-options.xml" xpointer="interface"/>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term><varname>address</varname></term>
	<listitem>
	  <synopsis><literal>address = </literal><arg
	  choice="plain"><replaceable>ADDRESS</replaceable></arg>
	  </synopsis>
	  <xi:include href="mandos-options.xml" xpointer="address"/>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term><varname>port</varname></term>
	<listitem>
	  <synopsis><literal>port = </literal><arg
	  choice="plain"><replaceable>PORT</replaceable></arg>
	  </synopsis>
	  <xi:include href="mandos-options.xml" xpointer="port"/>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term><varname>debug</varname></term>
	<listitem>
	  <synopsis><literal>debug =</literal><group choice="req">
	    <arg choice="plain">1</arg>
	    <arg choice="plain">yes</arg>
	    <arg choice="plain">true</arg>
	    <arg choice="plain">on</arg>
	    <arg choice="plain">0</arg>
	    <arg choice="plain">no</arg>
	    <arg choice="plain">false</arg>
	    <arg choice="plain">off</arg>
	  </group>
	  </synopsis>
	  <xi:include href="mandos-options.xml" xpointer="debug"/>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term><varname>priority</varname></term>
	<listitem>
	  <synopsis><literal>priority = </literal><arg
	  choice="plain"><replaceable>PRIORITY</replaceable></arg>
	  </synopsis>
	  <xi:include href="mandos-options.xml" xpointer="priority"/>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term><varname>servicename</varname></term>
	  <synopsis><literal>servicename = </literal><arg
	  choice="plain"><replaceable>NAME</replaceable></arg>
	  </synopsis>
	<listitem>
	  <xi:include href="mandos-options.xml"
		      xpointer="servicename"/>
	</listitem>
      </varlistentry>
      
    </variablelist>
  </refsect1>
  
  <refsect1 id="files">
    <title>FILES</title>
    <para>
      The file described here is &CONFPATH;
    </para>
  </refsect1>
  
  <refsect1 id="bugs">
    <title>BUGS</title>
    <para>
      The <literal>[DEFAULT]</literal> is necessary because the Python
      module <systemitem class="library">ConfigParser</systemitem>
      requres it.
    </para>
  </refsect1>
  
  <refsect1 id="example">
    <title>EXAMPLE</title>
    <informalexample>
      <programlisting>
[DEFAULT]
# A configuration example
interface = eth0
address = 2001:db8:f983:bd0b:30de:ae4a:71f2:f672
port = 1025
debug = true
priority = SECURE256:!CTYPE-X.509:+CTYPE-OPENPGP
servicename = Mandos
      </programlisting>
    </informalexample>
  </refsect1>
</refentry>

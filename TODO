-*- org -*-

* mandos-client
** TODO [#B] Temporarily lower kernel log level
   for less printouts during sucessfull boot.
   klogctl(6, NULL, 0); klogctl(7, NULL, 0);
** TODO [#C] IPv4 support

* mandos (server)
** TODO [#B] Log level				:bugs:
** TODO /etc/mandos/clients.d/*.conf
   Watch this directory and add/remove/update clients?
** TODO config for TXT record
** TODO [#B] Run-time communication with server :bugs:
   Probably using D-Bus
   See also [[*Mandos-tools]]
*** Client class
    Remove unneeded Get* methods?
*** Main server
    + Clients
      out_signature="ao"
      Does this have to be "GetClients" so as not to collide with the
      interface name?
    + SetLogLevel
      syslogger.setLevel(logging.WARNING)
    + Quit
    + GetClientsProperties "aa{sv}":
      dbus.Array(dbus.Dictionary({dbus.String("name"):
                                  dbus.String("foo", variant_level=1),
                                  dbus.String("created"):
				  dbus.Array(dbus.Int16(2008), ...,
                                             variant_level=1)}))
    + [[http://log.ometer.com/2007-05.html][Best D-Bus practices]]
** TODO Implement --foreground			:bugs:
   [[info:standards:Option%20Table][Table of Long Options]]
** TODO Implement --socket
   [[info:standards:Option%20Table][Table of Long Options]]
** TODO Date+time on console log messages	:bugs:
   Is this the default?
** TODO delete hook when clients fall out by timeout
   This will not be strictly necessary when the D-Bus interface is
   implemented.

* Mandos-tools/utilities
  All of this probably using D-Bus
** TODO List clients
** TODO Disable client
** TODO Enable client
** TODO Reset timer

* mandos-keygen
** TODO "--secfile" option
   Using the "secfile" option instead of "secret"
** TODO [#B] "--test" option
   For testing decryption before rebooting.

* [#A] Package
** /usr/share/initramfs-tools/hooks/mandos
*** TODO Do not install in initrd.img if configured not to.
    Use "/etc/initramfs-tools/conf.d/mandos"?  Definitely a debconf
    question.
** TODO /etc/bash_completion.d/mandos
   From XML sources directly?


#+STARTUP: showall
